{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ff3f1313_d0fdd1ae",
        "filename": "vars/kernel_repos",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-08T21:07:36Z",
      "side": 1,
      "message": "I was proposing adding GKIs here directly, so that we can get auto merging.",
      "revId": "a7b6a6f77e67e514b52e40a26bf4ef82ab657401",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c633db8b_79d497d0",
        "filename": "vars/kernel_repos",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2022-11-08T21:18:12Z",
      "side": 1,
      "message": "With the current manifest there are no GKI kernel repos to merge, we track the gki git revision directly from the normal kernel repos.\n\nIf we want to have separate repos (which will only be needed in case of urgent CVE patches), we are going to have to make new repos for gs101 and gs201 gki, which still don\u0027t have matching tags in AOSP (gs101 is older gki) and I wouldn\u0027t want to upgrade gki version on gs101 while the non-gki kernel is still on older version.\n\nThe question is, do we want to have single gki repository and potentially break things or just make split repositories and follow stock kernel updates with potentially zero breakage?",
      "parentUuid": "ff3f1313_d0fdd1ae",
      "revId": "a7b6a6f77e67e514b52e40a26bf4ef82ab657401",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a073e670_291b0fe8",
        "filename": "vars/kernel_repos",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-08T21:18:44Z",
      "side": 1,
      "message": "Can merge this, and then later, when we try GKIs\n\nHopefully one works, and we can just have a new kernel \"gki-5.10\", and setup auto merging for that like any other kenrel.\n\nIt\u0027s manual now which sucks.",
      "parentUuid": "ff3f1313_d0fdd1ae",
      "revId": "a7b6a6f77e67e514b52e40a26bf4ef82ab657401",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8363103e_ddb28013",
        "filename": "vars/kernel_repos",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-08T22:31:15Z",
      "side": 1,
      "message": "Looks like we managed to comment at the same time so I totally missed yours till I saw the email.\n\nI\u0027d say we definitely need to fork - sometimes there are urgent CVEs, and we wouldn\u0027t want to waste time forking then.\n\nThen the next question is do we split GKI or unify and potentially uprev.\n\nI\u0027m tempted to try it because it really should work.\n\nnon-gki kernel isn\u0027t really a kernel though - it\u0027s just out of tree modules. Kernel is GKI.\n\nThe breakage could come from just normal upstream linux stable commits. We don\u0027t merge latest stable on other devices because it\u0027d just cause conflicts with google. However here it\u0027s a separate repo without any patches so that makes it a lot easier.\n\nI think I\u0027d like to quickly\n\n1. Try gs201 GKI version on gs101\n2. Try latest GKI on both. That\u0027d be https://android.googlesource.com/kernel/common/+/refs/tags/ASB-2022-11-01_13-5.10 currently.\n3. Fallback to same version as Google\n\n1 and 2 have to a. build b. boot before we can even discuss anything further. If they fail at those we can quickly just move to 3 and leave this discussion behind for the time being.\n\nIf they do work then let\u0027s discuss further.",
      "parentUuid": "a073e670_291b0fe8",
      "revId": "a7b6a6f77e67e514b52e40a26bf4ef82ab657401",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}